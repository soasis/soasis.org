+++
title = "C++'s Forgotten Use Case: Fallible Allocators"
description = "A class of allocator that C++ left behind but was embraced by Rust and C."
author = "ThePhD"
date = "2020-11-10"
slug = "fallible-allocators"
tags = ["Rust", "C", "C++", "Memory", "Allocators"]
categories = ["C", "C++", "Rust", "Tech"]
[[images]]
  src = "/img/2020/11/bubble-reflection.jpg"
  alt = "A sunset horizon and a person standing fairly close by, all reflected through a bubble up-close."
draft = true
+++

It turns out there are two kinds of allocators in the world, and out of the Systems Programming languages we deal with here, C++ has the most special one!<!--more-->

Unfortunately for us, it's the one that actually leaves some performance and use cases out in the cold ðŸ¥¶!




# The Allocator Models

There are two allocation models that exist in various forms in C, C++, and Rust. All three languages support both allocation models, but how the language itself centers and defaults certain models is important. C and Rust have one allocation model, and it can be embodied by [the Rust documentation here for its `GlobalAlloc` trait](), with my own emphasis added:

> `unsafe fn alloc(&self, layout: Layout) -> *mut u8`
> 
> Allocate memory as described by the given `layout`.
> 
> Returns a pointer to newly-allocated memory, or **null to indicate allocation failure**.



â€” ThePhD ðŸ’š

_What do you think of it? Get [in touch with us](/contact) or leave us a comment on our social media to discuss. We look forward to engaging with you about improving the C and C++ Standards!_

{{% references/section %}}
Edited Title Photo by [Ignacio Ravelo](https://www.pexels.com/@ignacio-ravelo-3471245?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) from [Pexels](https://www.pexels.com/photo/war-veteran-siting-in-wheelchair-5188640/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels).

[Mara Bos](https://twitter.com/m_ou_se/) is a software developer and electrical engineer from the Netherlands. She works on the Rust Standard Library and many other projects. She also maintains her own DNS, which is a massive flex.

[Nika Layzell](https://twitter.com/kneecaw) is a software developer from Canada. She works on Fission site isolation at Mozilla, and regularly gets into fun with Rust.
{{% /references/section %}}
